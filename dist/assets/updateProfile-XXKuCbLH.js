import{d as s}from"./constants-Cio_5RR6.js";import{h as l}from"./headers-7jRSljoY.js";async function i(a,n){const e=localStorage.getItem("token");if(!e)throw new Error("No auth token found. Please log in.");const o=`${s}/auction/profiles/${a}`;console.log("Request URL:",o),console.log("Request Body:",n);try{const r=await fetch(o,{method:"PUT",headers:l(e),body:JSON.stringify(n)});if(!r.ok){const t=await r.json();throw console.error("Server Response:",t),new Error(`Profile update failed: ${t.message||"Unknown error"}`)}return await r.json()}catch(r){throw console.error("Error in updateProfile:",r),r}}async function f(a){a.preventDefault();const n=a.target,e=new FormData(n),o={};e.get("bio")&&(o.bio=e.get("bio")),e.get("avatar")&&(o.avatar={url:e.get("avatar"),alt:e.get("avatar-alt")||"Avatar image"}),e.get("banner")&&(o.banner={url:e.get("banner"),alt:e.get("banner-alt")||"Banner image"});const r=localStorage.getItem("userName");if(!r){alert("No username found. Please log in.");return}try{const t=await i(r,o);alert("Profile updated successfully!"),window.location.href="/profil/",console.log("Updated Profile:",t)}catch(t){alert(`Error updating profile: ${t.message}`)}}document.getElementById("update-profile-form").addEventListener("submit",f);
